# opensearch-values.yaml
# OpenSearch 2.19.0 Single Node Deployment for Minikube

# 2.19.0 이미지 태그 명시
image:
  repository: opensearchproject/opensearch
  tag: "2.19.0" 

clusterName: my-opensearch-cluster

# Minikube 최적화: 단일 노드 구성
singleNode: true
master:
  replicas: 1
  persistence:
    enabled: true
    size: 5Gi # PV 사용 및 크기 설정
  resources:
    requests:
      memory: "2Gi"
      cpu: "500m"
    limits:
      memory: "3Gi"
      cpu: "1000m"

data:
  replicas: 0 # 단일 노드 구성 시 마스터 노드에 데이터 역할 부여

# OpenSearch 2.12+ 필수 요구사항: 초기 관리자 비밀번호 환경 변수 주입 
# 강력한 비밀번호 설정: 이 암호로 'admin' 사용자가 생성됩니다.
extraEnvs:
  - name: OPENSEARCH_INITIAL_ADMIN_PASSWORD
    value: 'StrongPass123!' 

# 보안 플러그인 활성화
securityConfig:
  enabled: true

  tls:
    transport:
      enabled: false
    http:
      enabled: false

